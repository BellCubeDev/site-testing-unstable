import*as ge from"./fomod-builder-ui.js";import*as fe from"./fomod-builder-classifications.js";import*as te from"../../universal.js";const Se=JSON.parse(localStorage.getItem("BellCubeDev_FOMOD_BUILDER_DATA")??"{}");window.FOMODBuilder={ui:{openFolder:ge.openFolder,save:ge.save,cleanSave:ge.cleanSave,attemptRepair(){},setStepEditorType:ge.setStepEditorType},storage:function e(t,o){const n=Object.keys(t),r=(Object.keys(o),{});for(let i=0;i<n.length;i++){const s=n[i];s in o?"object"==typeof t[s]&&"object"==typeof o[s]?r[s]=e(t[s],o[s]):r[s]=o[s]??t[s]:r[s]=t[s]}return r}({storageRevision:1,settings:{autoSaveAfterChange:!1,autoCleanSave:!1,keepNamesSynced:!0,includeInfoSchema:!0,optimizationUsingFlags:!0,saveConfigInXML:!1,brandingComment:!1,defaultSortingOrder:"Explicit",defaultGroupSelectType:"SelectAtLeastOne",formatXML:!0},preferences:{stepsBuilder:"builder"}},Se),fomodClass:fe.Fomod,trackedFomod:null};export const save=ge.save;function be(){te.updateSettings();try{localStorage.setItem("BellCubeDev_FOMOD_BUILDER_DATA",JSON.stringify(window.FOMODBuilder.storage))}catch{return!1}return!0}window.FOMODBuilder.storage=te.setProxies(window.FOMODBuilder.storage,{set:()=>be()}),be();let ye=null;export function getNoSupportModal(){if(ye)return ye;const e={'<a href="https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API" target="_blank" rel="noopener noreferrer">File System Access API</a>':window.showOpenFilePicker},t=[];for(const[r,i]of Object.entries(e))i||t.push(r);const o=document.getElementById("no-support-modal");if(!o)return ye=null,null;t.length&&o.setAttribute("open-by-default","");const n=o.getElementsByClassName("js-bcd-modal-body")[0]?.getElementsByClassName("replace_me_txt")[0];if(n){const e=t.pop();n.innerHTML=t.join(", "),e&&(t.length>1?n.innerHTML+=`, and ${e}`:t.length?n.innerHTML+=` and ${e}`:n.innerHTML+=e)}return ye=o.upgrades?.getExtends(te.BCDModalDialog)?.[0]??null,ye}window.bcd_init_functions.fomodBuilder=function(){console.debug("Initializing the FOMOD Builder!"),getNoSupportModal(),ge.init(),te.updateSettings(),console.debug("FOMOD Builder initialized!")};
//# sourceMappingURL=https://raw.githubusercontent.com/BellCubeDev/site-testing-unstable/deployment/tools/fomod/fomod-builder.js.map